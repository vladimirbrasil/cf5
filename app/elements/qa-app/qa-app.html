<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/social-icons/social-icons.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/paper-dropdown/paper-dropdown.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/firebase-element/firebase-login.html">

<dom-module id="qa-app">
  <style>
    :host {
      display: block;
      
      --paper-toolbar-background: blue;
      /*
      --paper-toolbar {
        background: green;
      }
      */
    }

    :host {
      display: block;
      font-family: RobotoDraft, "Helvetica Neue", Helvetica, Arial;
      height: 100%;
    }

    core-header-panel {
      height: 100%;
    }

    core-header-panel::shadow #mainContainer {
      background: red;
    }

    core-toolbar {
      background: none;
    }

    .core-header {
      height: 60px;
      line-height: 60px;
      font-size: 18px;
      padding: 0 10px;
      background-color: #3F51B5;
      color: #fff;
      transition: height 0.2s;
    }

    .core-header paper-item {
      color: #333;
    }

    .core-header paper-menu-button {
      height: 40px;
    }

    .content {
      background: #fff;
    }    
  </style>
  <template>




<!--     <firebase-login id="baseLogin" user="{{user}}" statusKnown="{{statusKnown}}" location="https://polymer-tests.firebaseio.com" provider="{{provider}}" on-error="{{error}}" on-user-created="{{userSuccess}}" on-password-changed="{{userSuccess}}" on-password-reset="{{userSuccess}}" on-user-removed="{{userSuccess}}"></firebase-login> 
-->

    <firebase-login id="baseLogin" user="{{user}}" statusKnown="{{statusKnown}}" location="https://resplendent-torch-1973.firebaseio.com" provider="github" on-login="{{onLogin}}" on-error="{{onLoginError}}"></firebase-login>

<paper-header-panel>

  <!-- Drawer Toolbar -->
  <paper-toolbar>
    <span class="flex">Firebase Q&amp;A</span>

    <!-- Drawer Content -->   
    <paper-button on-click="login" hidden?="{{!statusKnown || user}}">Login</paper-button>
    <paper-button on-click="logout" hidden?="{{!statusKnown || !user}}">Logout</paper-button> 
    <template if="{{user}}">{{user.github.username}}</template>   
  </paper-toolbar>



  <!-- Main Content -->
  <div class="content">
  </div>

</paper-header-panel>






  </template>
  <script>
  (function() {
    Polymer({
      is: 'qa-app',   

      properties: {
        foo: {
          type: String,
          value: 'bar',
          notify: true
        }
      },

      login: function() {
        alert(this.$.baseLogin)
        this.$.baseLogin.login();
        alert(this.$.baseLogin.user)
      },
      logout: function() {
        this.$.baseLogin.logout();
      }

    });
  })();
  </script>
</dom-module>
